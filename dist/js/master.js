"use strict";var _createClass=function(){function t(n,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(n,o,e){return o&&t(n.prototype,o),e&&t(n,e),n}}();function _classCallCheck(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}var arr_placeholder=["美的空调","海尔洗衣机","华为手机","海尔冰箱","空调","热水器","冰箱","手机","洗衣机"];$(function(){var o=arr_placeholder.length;setInterval(function(){var n=arr_placeholder[parseInt(Math.random()*o)];$(".search_input_center input").attr("placeholder",n)},2e3)});var ActiveImg=function(){function o(n){_classCallCheck(this,o),this.wrap=document.querySelector(n),this.ulis=this.wrap.querySelectorAll("ul li"),this.linum=this.ulis.length,this.ol=this.wrap.querySelector("ol"),this.btnL=this.wrap.querySelector(".leftBtn"),this.btnR=this.wrap.querySelector(".rightBtn"),this.bg=document.querySelector(".banner"),this.color=["#CDE9FC","#D9CEFB","#CDFEDB","#CDE9FD","#CDFEDB","#CFFFF1","#CAFAF4"],this.index=0,this.timer,this.olclick()}return _createClass(o,[{key:"renderOli",value:function(){for(var n=0;n<this.linum;n++)this.ol.appendChild(document.createElement("li"));this.ol.firstElementChild.className="active"}},{key:"move",value:function(){var n=this;this.renderOli(),this.btnR.onclick=function(){n.index++,n.index===n.linum&&(n.index=0),n.imgMove()},this.btnL.onclick=function(){n.index--,n.index<0&&(n.index=n.linum-1),n.imgMove()},this.timer=setInterval(function(){n.index++,n.index===n.linum&&(n.index=0),n.imgMove()},3e3),this.wrap.onmouseover=function(){return clearInterval(n.timer)},this.wrap.onmouseout=function(){return n.timer=setInterval(function(){n.index++,n.index===n.linum&&(n.index=0),n.imgMove()},3e3)}}},{key:"imgMove",value:function(){var n=this.wrap.querySelector("ol li.active"),o=this.wrap.querySelector("ul li.active");n.className=o.className="",this.ulis[this.index].className=this.ol.children[this.index].className="active",this.bg.style.backgroundColor=this.color[this.index]}},{key:"olclick",value:function(){var r=this;this.ol.onclick=function(n){var o=(n=n||window.event).target||n.srcElement;if("LI"===o.nodeName){var e=r.wrap.querySelector("ol li.active"),t=r.wrap.querySelector("ul li.active");e.className=t.className="",r.index=Array.prototype.slice.call(r.wrap.querySelectorAll("ol li")).indexOf(o),o.className=r.ulis[r.index].className="active",r.bg.style.backgroundColor=r.color[r.index]}}}}]),o}(),lb=new ActiveImg(".activeImg");lb.move();var eRollIndex=0;function RollAct(n){$(".hdrsideRoll ul").css({transition:".3s",transform:"translateY(-"+40*n+"px)"})}$($(".hdrsideRoll p i")[1]).click(function(){2<++eRollIndex&&(eRollIndex=0),RollAct(eRollIndex)}),$($(".hdrsideRoll p i")[0]).click(function(){--eRollIndex<0&&(eRollIndex=2),RollAct(eRollIndex)}),window.addEventListener("scroll",function(){var n=document.documentElement.scrollTop;200<=n?$(".goTop").css("display","block"):$(".goTop").css("display","none"),600<=n?($(".hide").css("display","block"),$(".jump").css("display","block"),$(".search_input").css({position:"fixed",top:"8px","z-index":"1000"}),$(".list h2").css({position:"fixed",top:"8px","z-index":"1000"})):($(".hide").css("display","none"),$(".jump").css("display","none"),$(".search_input").css({position:"inherit"}),$(".list h2").css({position:"inherit",top:"0"}))}),$(".goBottom").click(function(){var n=document.body.scrollHeight-window.innerHeight,o=document.documentElement.scrollTop,e=setInterval(function(){n<=(o+=50)&&clearInterval(e),document.documentElement.scrollTop=o},5)});var floors=document.querySelectorAll(".jump ul li"),floorONE=document.querySelector("#floorONE"),floorTWO=document.querySelector("#floorTWO"),floorTHREE=document.querySelector("#floorTHREE"),floorFOUR=document.querySelector("#floorFOUR"),floorFIVE=document.querySelector("#floorFIVE"),floorSIX=document.querySelector("#floorSIX"),floorSEVEN=document.querySelector("#floorSEVEN");function jumpFloor(n){var o=document.documentElement.scrollTop,e=n.offsetTop-80;if(e-o<0)var t=setInterval(function(){(o-=30)<=e&&clearInterval(t),document.documentElement.scrollTop=o},10);else t=setInterval(function(){e<=(o+=30)&&clearInterval(t),document.documentElement.scrollTop=o},10)}floors[1].onclick=function(){jumpFloor(floorONE)},floors[2].onclick=function(){jumpFloor(floorTWO)},floors[3].onclick=function(){jumpFloor(floorTHREE)},floors[4].onclick=function(){jumpFloor(floorFOUR)},floors[5].onclick=function(){jumpFloor(floorFIVE)},floors[6].onclick=function(){jumpFloor(floorSIX)},floors[7].onclick=function(){jumpFloor(floorSEVEN)},$(".list ul li").mouseover(function(){$(this).css("background","#fff").find("a").css("color","#232323").end().siblings("li").css("background","transparent"),$(".listContent").css("display","block");var n=$(this).find("a").text();return $.get("http://store/src/php/masterlist.php",{floor:n},function(n){$(".listContent").html("");var e=[],o={};for(var t in n.forEach(function(n){e.push(n.thead)}),e.forEach(function(n){o[n]=0}),e=[],o)e.push(t);for(var r=e.length,l=0;l<r;l++){var i=document.createElement("p");n.forEach(function(n){if(n.thead===e[l]){var o=document.createElement("a");o.innerHTML=n.content,i.appendChild(o)}}),$(".listContent").append(i)}},"json"),!1}),$(".list ul li").mouseout(function(){var n=this;return $(this).css("background","transparent").find("a").css("color","#fff"),$(".listContent").css("display","none"),$(".listContent").mouseover(function(){$(n).css("background","#fff").siblings("li").css("background","transparent").end().find("a").css("color","#232323").end().siblings("li").find("a").css("color","#fff"),$(".listContent").css({background:"#fff",display:"block"})}),!1}),$(".listContent").mouseout(function(){$(".list ul li").css("background","transparent").find("a").css("color","#fff"),$(this).css("display","none")});var countdownTime=7200;$(".countdown span")[0].innerText=parseInt(countdownTime/3600)<10?"0"+parseInt(countdownTime/3600):parseInt(countdownTime/3600),$(".countdown span")[1].innerText=parseInt(countdownTime/60%60)<10?"0"+parseInt(countdownTime/60%60):parseInt(countdownTime/60%60),$(".countdown span")[2].innerText=parseInt(countdownTime%60)<10?"0"+parseInt(countdownTime%60):parseInt(countdownTime%60);var countdownTimerID=setInterval(function(){0===--countdownTime&&clearInterval(countdownTimerID),$(".countdown span")[0].innerText=parseInt(countdownTime/3600)<10?"0"+parseInt(countdownTime/3600):parseInt(countdownTime/3600),$(".countdown span")[1].innerText=parseInt(countdownTime/60%60)<10?"0"+parseInt(countdownTime/60%60):parseInt(countdownTime/60%60),$(".countdown span")[2].innerText=parseInt(countdownTime%60)<10?"0"+parseInt(countdownTime%60):parseInt(countdownTime%60)},1e3);function meiri(n,o,e){var t=e.slice(n,o),r=$("<li></li>"),i=$("<ul></ul>");t.forEach(function(n){var o=$("<li></li>"),e=$("<a></a>"),t=$("<img src='"+n.imgUrl+"' />"),r=$("<p><span>"+n.price+"</span><del>"+n.oldPrice+"</del></p>"),l=$("<p>"+n.content+"</p>");e.append(t).append(l).append(r),o.append(e).appendTo(i)}),r.append(i),$(".robLeftBottom>ul").append(r)}function like(n,o,e){var t=e.slice(n,o),r=$("<li></li>"),i=$("<ul></ul>");t.forEach(function(n){var o=$("<li></li>"),e=$("<a></a>"),t=$("<img src='"+n.imgUrl+"' />"),r=$("<p><span>"+n.price+"</span></p>"),l=$("<p>"+n.content+"</p>");e.append(t).append(l).append(r),o.append(e).appendTo(i)}),r.append(i),$(".like>ul").append(r)}function showhide(n,o,e,t,r){$(o).click(function(){--n<0&&(n=$(r).children().length-1),$(t).eq(n).fadeIn().siblings().fadeOut()}),$(e).click(function(){++n>$(r).children().length-1&&(n=0),$(t).eq(n).fadeIn().siblings().fadeOut()})}function randerFloor(n,o,i){$.get("http://store/src/php/master.php",{floor:n},function(n){var e=[];n.forEach(function(n){n.parent==o&&e.push(n)}),$(i+" .floorallBottomLeft>img").attr("src",""+e[0].imgUrl),$(i+" .RightFirst>div>img").attr("src",""+e[1].imgUrl);$(".RightFirst>ul").children().length;$(i+" .RightFirst>ul>li").each(function(n,o){$(o).find("img").attr("src",e[n+2].imgUrl)}),$(i+" .floorallTop div span").mouseover(function(){var o=$(this).text(),e=[];if(n.forEach(function(n){n.parent==o&&e.push(n)}),o==$(i+" .floorallTop div span")[0].innerText)$(i+" .RightFirst").fadeIn(),$(i+" .RightAll").fadeOut();else{$(i+" .RightFirst").fadeOut(),$(i+" .RightAll").fadeIn();var t=[];n.forEach(function(n){n.parent==o&&t.push(n)}),$(i+" .RightAll ul").html(""),t.forEach(function(n){var o=$("<li></li>"),e=$("<a></a>"),t=$("<img src='"+n.imgUrl+"' />"),r=$("<p>"+n.content+"</p>"),l=$("<p>"+n.price+"</p>");e.append(t).append(r).append(l),o.append(e),$(i+" .RightAll ul").append(o)})}})},"json")}$.get("http://store/src/php/master.php",{floor:"美日必抢"},function(n){meiri(0,4,n),meiri(4,8,n)},"json"),showhide(1,".robLeftBottom .leftBtn",".robLeftBottom .rightBtn",".robLeftBottom>ul>li",".robLeftBottom>ul"),$.get("http://store/src/php/master.php",{floor:"猜你喜欢"},function(n){like(0,6,n),like(6,12,n),like(12,18,n)},"json"),showhide(0,".likeLeft",".likeRight",".like>ul>li",".like>ul"),randerFloor("手机通讯1f","活动精选","#floorONE"),randerFloor("电脑数码2f","精选热卖","#floorTWO"),randerFloor("家用电器3f","精选热卖","#floorTHREE"),randerFloor("厨房卫浴4f","精选热卖","#floorFOUR"),randerFloor("国美超市5f","精选热卖","#floorFIVE"),randerFloor("家居家装6f","精选热卖","#floorSIX"),randerFloor("汽车用品7f","精选热卖","#floorSEVEN");var coo=tool.getCookie("username");